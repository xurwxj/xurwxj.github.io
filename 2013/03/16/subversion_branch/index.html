<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Subversion 分支操作 | Findnow</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="创建分支
创建分支最快捷简便的方法就是直接对url操作，然后从新的url co出工作拷贝。在Subversion server上，用硬链接的方式处理不同version之间相同的文件。
svn copy http://svn.example.com/svnroot/comet/trunk http://svn.example.com/svnroot/comet/branches/2.8 –m “cr">
<meta property="og:type" content="article">
<meta property="og:title" content="Subversion 分支操作">
<meta property="og:url" content="http://xurw.com/2013/03/16/subversion_branch/index.html">
<meta property="og:site_name" content="Findnow">
<meta property="og:description" content="创建分支
创建分支最快捷简便的方法就是直接对url操作，然后从新的url co出工作拷贝。在Subversion server上，用硬链接的方式处理不同version之间相同的文件。
svn copy http://svn.example.com/svnroot/comet/trunk http://svn.example.com/svnroot/comet/branches/2.8 –m “cr">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Subversion 分支操作">
<meta name="twitter:description" content="创建分支
创建分支最快捷简便的方法就是直接对url操作，然后从新的url co出工作拷贝。在Subversion server上，用硬链接的方式处理不同version之间相同的文件。
svn copy http://svn.example.com/svnroot/comet/trunk http://svn.example.com/svnroot/comet/branches/2.8 –m “cr">
  
  
    <link rel="icon" href="/logo.png">
  

  <link rel="stylesheet" href="/css/style.css" type="text/css">
  
    <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  
  
    <link rel="stylesheet" href="/scrollLoading/style.css" type="text/css">
  
  


  
    <style type="text/css">
      .logo { background-image:url(/logo_header.png); }
    </style>
  
    <link href='/css/fonts_useso.css' rel='stylesheet' type='text/css'>

</head>

<body>
  <div id="wrap">
    <header id="header">
  <div id="header-outer" class="outer">
    <div class="container">
      <div class="container-inner">
        <div id="header-title">
          <h1 class="logo-wrap">
            <a href="/" class="logo"></a>
          </h1>
          
            <h2 class="subtitle-wrap">
              <p class="subtitle">All about victor, hellen, yasir on life,  management and others.</p>
            </h2>
          
        </div>
        <div id="header-inner" class="nav-container">
          <a id="main-nav-toggle" class="nav-icon"></a>
          <div class="nav-container-inner">
            <ul id="main-nav">
              
                <li class="main-nav-list-item" ><a class="main-nav-list-link" href="/">主页</a></li>
              
                    <ul class="main-nav-list"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/其它/">其它</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/家庭生活/">家庭生活</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/运营管理/">运营管理</a></li></ul>
                  
                <li class="main-nav-list-item" ><a class="main-nav-list-link" href="/aboutus/index.html">关于我们</a></li>
              
            </ul>
            <nav id="sub-nav">
            <input type="text" class="st-default-search-input">
              <!--<div id="search-form-wrap">
                <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="搜索"><input type="hidden" name="q" value="site:http://xurw.com"></form>
              </div>-->
            </nav>
          </div>
        </div>
      </div>
    </div>
  </div>
</header>

    <div class="container">
      <div class="main-body container-inner">
        <div class="main-body-inner">
          <section id="main">
            <div class="main-body-header">

              <h1 class="header"><a class="page-title-link" href="/categories/其它/">其它</a></h1>
            </div>
            <div class="main-body-content">
              
  <article id="post-subversion_branch" class="article article-single article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
      <!--  -->
      
        <header class="article-header">
          
  
    <h1 class="article-title" itemprop="name">
      Subversion 分支操作
    </h1>
  

        </header>
      
      <p class="article-byline">
        <a href="/2013/03/16/subversion_branch/" class="article-date">
  <time datetime="2013-03-15T16:59:28.000Z" itemprop="datePublished">2013-03-16</time>
</a>
      </p>
      <div class="article-entry" itemprop="articleBody">
        <p><strong>创建分支</strong></p>
<p>创建分支最快捷简便的方法就是直接对url操作，然后从新的url co出工作拷贝。在Subversion server上，用硬链接的方式处理不同version之间相同的文件。</p>
<p>svn copy <a href="http://svn.example.com/svnroot/comet/trunk" target="_blank" rel="external">http://svn.example.com/svnroot/comet/trunk</a> <a href="http://svn.example.com/svnroot/comet/branches/2.8" target="_blank" rel="external">http://svn.example.com/svnroot/comet/branches/2.8</a> –m “creating a private branch of comet”</p>
<p><strong>合并一个分支上的修改到主干</strong></p>
<p>Subversion的分支合并不是一个高风险的事情。其实Subversion并没有真正意义的分支概念，只有copy，但每个copy都会保留其所有的历史信息。像Clearcase那样的单独一个维度的version tag是不存在的，Subversion中的tag只是用来做快照而已，而且本质上也是copy，如果你提交新东西，那它就和branch是一样的。</p>
<p>简单地说，它一共只做了两件事。第一，比较两个版本的不同，这和你用svn diff得到的结果是一样的，只是svn diff会把changes打印出来。第二，把changes应用到你指定的工作拷贝上去，这表现为你的工作拷贝的本地修改，你可以在这个基础上再做修改，或是检查有没有问题，然后再提交。Subversion server并不关心你的提交是来自svn merge的修改，还是你自己改的代码。如果对结果不满意或者后悔了，一样可以用svn revert取消本地修改。</p>
<p>一个好的习惯是，提交的时候在注释中写清楚是从那个版本merge过来的。</p>
<p>Best practice 关于从某分支上merge changes到主干：</p>
<p><strong>step1</strong>：找到前一次合并到主干时的version(341)</p>
<p>&nbsp;&nbsp;&nbsp; svn log –v –-stop-on-copy <a href="http://svn.example.com/svnroot/comet/branches/2.8" target="_blank" rel="external">http://svn.example.com/svnroot/comet/branches/2.8</a></p>
<p><strong>step2</strong>：切换到trunk的本地工作目录</p>
<p><strong>step3</strong>：update到最新，获得当前HEAD的version(405)</p>
<p>&nbsp;&nbsp;&nbsp; svn update</p>
<p>&nbsp;&nbsp;&nbsp; 我们只用比较分支的初始状态和最终状态，然后把这些changes merge到主干上去，而不是分支的初始状态和主干的最终状态。</p>
<p><strong>step4</strong>：merge</p>
<p>&nbsp;&nbsp;&nbsp; svn merge –r 341:405 <a href="http://svn.example.com/svnroot/comet/branches/2.8" target="_blank" rel="external">http://svn.example.com/svnroot/comet/branches/2.8</a></p>
<p>&nbsp;&nbsp;&nbsp; 此处省略了目标工作拷贝，默认是当前目录的工作拷贝，也可以指定</p>
<p>&nbsp;&nbsp;&nbsp; svn merge –r 341:405 <a href="http://svn.example.com/svnroot/comet/branches/2.8" target="_blank" rel="external">http://svn.example.com/svnroot/comet/branches/2.8</a> my_trunk_copy</p>
<p><strong>step5</strong>：查看merge后的状态</p>
<p>&nbsp;&nbsp;&nbsp; svn status</p>
<p><strong>step6</strong>：编译测试看有无问题</p>
<p><strong>step7</strong>：提交</p>
<p>&nbsp;&nbsp;&nbsp; svn commit –m “Merged 2.8 changes r341:405 into the trunk.”</p>

      </div>
      <footer class="article-footer">
        <!--<a data-url="http://xurw.com/2013/03/16/subversion_branch/" data-id="ci9flmffa002unwwncvsp9rtq" class="article-share-link">分享到</a>
        -->
        
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/技术/">技术</a></li></ul>

        <div class="bdsharebuttonbox">
    <a href="#" class="bds_sqq" data-cmd="sqq" title="分享到QQ"></a>
    <a href="#" class="bds_tsina" data-cmd="tsina" title="分享到微博"></a>
    <a href="#" class="bds_weixin" data-cmd="weixin" title="分享到微信"></a>
    <a href="#" class="bds_fbook" data-cmd="fbook" title="分享到Facebook"></a>
    <a href="#" class="bds_twi" data-cmd="twi" title="分享到Twitter"></a>
    <a href="#" class="bds_count" data-cmd="count"></a>
</div>
<script>
    window._bd_share_config = {
    	"common": {
    		"bdSnsKey": {},
    		"bdText": "",
    		"bdMini": "2",
    		"bdMiniList": false,
    		"bdPic": "",
    		"bdStyle": "0",
    		"bdSize": "16"
    	},
    	"share": {},
    	"image": {
    		"viewList": ["sqq", "tsina", "weixin", "fbook", "twi"],
    		"viewText": "分享到: ",
    		"viewSize": "16"
    	},
    	"selectShare": {
    		"bdContainerClass": null,
    		"bdSelectMiniList": ["sqq", "tsina", "weixin", "fbook", "twi"]
    	}
    };
    with(document) 0[
    	(getElementsByTagName('head')[0] || body).appendChild(createElement('script')).src = 'http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion=' + ~(-new Date() / 36e5)
    ];

</script>

      </footer>
    </div>
  </article>
  <!--
  -->


            </div>
          </section>
          <aside id="sidebar">
  <a class="sidebar-toggle" title="Expand Sidebar"><i class="toggle icon"></i></a>
  <div class="sidebar-top">
    <p>关注我 :</p>
    <ul class="social-links">
      
        <li><a class="social-tooltip" title="twitter" href="https://twitter.com/victorwu113" target="_blank"><i id="icon-twitter" class="icon"></i></a></li>
      
        <li><a class="social-tooltip" title="facebook" href="https://www.facebook.com/wu.victor.526" target="_blank"><i id="icon-facebook" class="icon"></i></a></li>
      
        <li><a class="social-tooltip" title="google_plus" href="https://plus.google.com/u/0/" target="_blank"><i id="icon-google_plus" class="icon"></i></a></li>
      
        <li><a class="social-tooltip" title="github" href="https://github.com/xurwxj" target="_blank"><i id="icon-github" class="icon"></i></a></li>
      
        <li><a class="social-tooltip" title="weibo" href="http://weibo.com/2514652212/profile?topnav=1&wvr=6" target="_blank"><i id="icon-weibo" class="icon"></i></a></li>
      
        <li><a class="social-tooltip" title="rss" href="/rss2.xml" target="_blank"><i id="icon-rss" class="icon"></i></a></li>
      
    </ul>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2013/03/20/rss/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">下一篇</strong>
      <p class="article-nav-title">
        
          RSS阅读
        
      </p>
      <i class="icon" id="icon-chevron-right"></i>
    </a>
  
  
    <a href="/2013/03/16/rule/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">上一篇</strong>
      <p class="article-nav-title">蘑菇管理定律</p>
      <i class="icon" id="icon-chevron-left"></i>
    </a>
  
</nav>

  
  <div class="widgets-container">
    
      
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul id="recent-post" class="">
        
          <li>
            
            <div class="item-thumbnail">
              
<a href="/2015/05/07/1test/" class="thumbnail">
  
    <span class="thumbnail-image thumbnail-none"></span>
  
</a>

            </div>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/categories/其它/">其它</a></p>
              <p class="item-title"><a href="/2015/05/07/1test/" class="title">通过atom来写文章</a></p>
              <p class="item-date"><time datetime="2015-05-07T14:38:00.000Z" itemprop="datePublished">2015-05-07</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-thumbnail">
              
<a href="/2015/01/07/2014summary/" class="thumbnail">
  
    <span class="thumbnail-image thumbnail-none"></span>
  
</a>

            </div>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/categories/家庭生活/">家庭生活</a></p>
              <p class="item-title"><a href="/2015/01/07/2014summary/" class="title">2014年度总结及2015希望</a></p>
              <p class="item-date"><time datetime="2015-01-07T15:12:00.000Z" itemprop="datePublished">2015-01-07</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-thumbnail">
              
<a href="/2014/10/29/git_blog/" class="thumbnail">
  
    <span class="thumbnail-image thumbnail-none"></span>
  
</a>

            </div>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/categories/其它/">其它</a></p>
              <p class="item-title"><a href="/2014/10/29/git_blog/" class="title">用github存放blog</a></p>
              <p class="item-date"><time datetime="2014-10-29T01:54:08.000Z" itemprop="datePublished">2014-10-29</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-thumbnail">
              
<a href="/2014/10/15/manage_memory_20141015/" class="thumbnail">
  
    <span class="thumbnail-image thumbnail-none"></span>
  
</a>

            </div>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/categories/运营管理/">运营管理</a></p>
              <p class="item-title"><a href="/2014/10/15/manage_memory_20141015/" class="title">20141015管理记忆</a></p>
              <p class="item-date"><time datetime="2014-10-15T01:54:48.000Z" itemprop="datePublished">2014-10-15</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-thumbnail">
              
<a href="/2014/09/01/manage_mind_20140901/" class="thumbnail">
  
    <span class="thumbnail-image thumbnail-none"></span>
  
</a>

            </div>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/categories/运营管理/">运营管理</a></p>
              <p class="item-title"><a href="/2014/09/01/manage_mind_20140901/" class="title">20140901管理方面的小思</a></p>
              <p class="item-date"><time datetime="2014-09-01T02:01:22.000Z" itemprop="datePublished">2014-09-01</time></p>
            </div>
          </li>
        
      </ul>
    </div>
  </div>

    
      
  <div class="widget-wrap widget-float">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/VPS/" style="font-size: 10px;">VPS</a><a href="/tags/Yasir/" style="font-size: 18.18px;">Yasir</a><a href="/tags/blog/" style="font-size: 10px;">blog</a><a href="/tags/django/" style="font-size: 11.82px;">django</a><a href="/tags/ftp/" style="font-size: 10px;">ftp</a><a href="/tags/js/" style="font-size: 10px;">js</a><a href="/tags/kvm/" style="font-size: 10px;">kvm</a><a href="/tags/linux/" style="font-size: 10.91px;">linux</a><a href="/tags/markdown/" style="font-size: 10px;">markdown</a><a href="/tags/node/" style="font-size: 10.91px;">node</a><a href="/tags/python/" style="font-size: 11.82px;">python</a><a href="/tags/sina/" style="font-size: 10px;">sina</a><a href="/tags/socket/" style="font-size: 10px;">socket</a><a href="/tags/sync/" style="font-size: 10px;">sync</a><a href="/tags/tech/" style="font-size: 10px;">tech</a><a href="/tags/victor/" style="font-size: 20px;">victor</a><a href="/tags/webkit/" style="font-size: 10px;">webkit</a><a href="/tags/weibo/" style="font-size: 10px;">weibo</a><a href="/tags/xp/" style="font-size: 10px;">xp</a><a href="/tags/主机/" style="font-size: 10.91px;">主机</a><a href="/tags/人力资源/" style="font-size: 10px;">人力资源</a><a href="/tags/企业文化/" style="font-size: 10.91px;">企业文化</a><a href="/tags/修身养性/" style="font-size: 14.55px;">修身养性</a><a href="/tags/博客/" style="font-size: 12.73px;">博客</a><a href="/tags/发展/" style="font-size: 10px;">发展</a><a href="/tags/同步/" style="font-size: 11.82px;">同步</a><a href="/tags/团队/" style="font-size: 10px;">团队</a><a href="/tags/年度/" style="font-size: 10.91px;">年度</a><a href="/tags/微博/" style="font-size: 12.73px;">微博</a><a href="/tags/总结/" style="font-size: 17.27px;">总结</a><a href="/tags/成功/" style="font-size: 15.45px;">成功</a><a href="/tags/技术/" style="font-size: 16.36px;">技术</a><a href="/tags/教育/" style="font-size: 16.36px;">教育</a><a href="/tags/照片/" style="font-size: 14.55px;">照片</a><a href="/tags/生活/" style="font-size: 12.73px;">生活</a><a href="/tags/空间/" style="font-size: 10px;">空间</a><a href="/tags/童趣/" style="font-size: 10px;">童趣</a><a href="/tags/管理/" style="font-size: 19.09px;">管理</a><a href="/tags/网络/" style="font-size: 13.64px;">网络</a><a href="/tags/虚拟/" style="font-size: 10px;">虚拟</a><a href="/tags/购物/" style="font-size: 10px;">购物</a><a href="/tags/车/" style="font-size: 11.82px;">车</a><a href="/tags/面试/" style="font-size: 10px;">面试</a>
    </div>
  </div>


    
      
  <div class="widget-wrap widget-list">
    <h3 class="widget-title">链接</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="http://www.shining3d.cn" target="_blank">先临三维</a>
          </li>
        
          <li>
            <a href="http://www.dxy.cn" target="_blank">丁香园</a>
          </li>
        
          <li>
            <a href="http://www.espark.net" target="_blank">东部软件园</a>
          </li>
        
          <li>
            <a href="http://www.zhongda.com" target="_blank">浙江数码港</a>
          </li>
        
          <li>
            <a href="http://www.qfc.cn" target="_blank">轻纺城</a>
          </li>
        
          <li>
            <a href="http://www.cib.com.cn" target="_blank">兴业银行</a>
          </li>
        
      </ul>
    </div>
  </div>


    
  </div>
</aside>
        </div>
      </div>
    </div>
    <footer id="footer">
  
  <div class="container">
    <div class="container-inner">
      <a id="back-to-top" href="javascript:;"><i class="icon" id="icon-angle-up"></i></a>
      <div class="credit">
        <a href="/" class="logo"></a>
        &copy; 2015 Victor
        Powered by <a href="//hexo.io/" target="_blank">Hexo</a>. Theme by <a href="//github.com/ppoffice" target="_blank">PPOffice</a>
      </div>
    </div>
  </div>
</footer>

    
  <script src="/js/jquery-2.1.3.min.js"></script>


  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>



  <script src="/scrollLoading/jquery.scrollLoading.js" type="text/javascript"></script>
  <script src="/scrollLoading/main.js" type="text/javascript"></script>


<script src="/js/html-patch.js" type="text/javascript"></script>
<script src="/js/script.js" type="text/javascript"></script>
<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install','pj9WgEiep7wSTHx1goHC','2.0.0');
</script>

  </div>
</body>
</html>
